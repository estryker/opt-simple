#!/usr/bin/env ruby1.9.1

# ./opt_ex2.rb -i foo.bar doit -whatever file1 file2 file3 -- -stuff

$LOAD_PATH.unshift File.dirname($PROGRAM_NAME)
$LOAD_PATH.unshift File.dirname($PROGRAM_NAME) + '/../lib/'

require 'option_magic'

options,arguments = OptionMagic.new.parse_opts! do 
  argument "-i","inFile" 
  option %w[-p --pattern --glob-pattern], "glob pattern"
  flag "-v","Verbose"
  flag "-whatever"
end

puts "Options"
puts options.inspect

puts "Arguments"
puts arguments.inspect

puts "ARGV"
puts ARGV
