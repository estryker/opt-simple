<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
	"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>RDoc Documentation</title>

	<link type="text/css" media="screen" href="rdoc.css" rel="stylesheet" />

	<script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body class="indexpage">

	
	<h1>RDoc Documentation</h1>

	
	<div id="main">
		<h2><a href="OptSimple.html">OptSimple</a> provides a very simple interface to command line parsing. </h2>
<h2>Description</h2>
<p>
Parameter specification, validity checking and argument transformations can
be put in one place, default parameters are easily set, and an automatic
usage statement is constructed.
</p>
<p>
There are three methods to define command line parameters:
</p>
<pre>
 flag - a command line switch with no arguments following 
 
 option - an optional command line parameter with one or more arguments
 
 argument - a mandatory command line parameter with one or more arguments
</pre>
<p>
Inside the blocks in flag, option, and argument a shortcut function called
&#8216;set_opt&#8217; can be used to set an option that will be returned in
the Result. The &#8216;accumulate_opt&#8217; method can be used in the
option and argument blocks to create a list of values, and in  the flag
block to increment a counter (with verbosity being the classic example). 
</p>
<p>
The number of arguments are determined by the &#8216;arity&#8217; of the
block. 
</p>
<p>
The order in which the parameters are defined dictate their order on the
command line.
</p>
<p>
User defined help banners, summaries or the whole usage statement can be
defined. 
</p>
<h2>Documentation</h2>
<p>
See <a href="OptSimple.html">OptSimple</a> for the API specification
</p>
<h2>Installation</h2>
<p>
It is recommended to install <a href="OptSimple.html">OptSimple</a> using
RubyGems:
</p>
<pre>
 $ sudo gem install opt-simple
</pre>
<h2>Examples</h2>
<h3>One example that shows most of the behavior you might use</h3>
<pre>
 require 'opt_simple'
 
 defaults = {
   :n =&gt; 42,
   :range =&gt; [5,10]
 }
 
 opts = OptSimple.new(defaults).parse_opts! do 
   argument %w[-i --infile], &quot;Infile, multiple allowed&quot;, &quot;FILE&quot; do | arg |
     accumulate_opt arg
   end
 
   flag %w[-d --debug],&quot;debug mode&quot;
 
   flag %w[-m --cowbell --morecowbell],&quot;I've got a fever, and this is the only prescription.&quot; do 
     accumulate_opt
   end
   
   option %w[-n -num --num-values],&quot;The answer to everything&quot;,&quot;VAL&quot; do |arg|
     set_opt arg.to_i
   end
 
   option %w[-p --pattern --glob-pattern], &quot;glob pattern&quot;,&quot;PATTERN&quot;
 
   option &quot;--range&quot;, &quot;range: min,max (both &gt;0)&quot; do | arg1,arg2 |
     min,max = [arg1.to_i,arg2.to_i]
     set_opt [min,max]
      
     error &quot;max must be greater than min&quot; unless max &gt; min
     error &quot;both must be &gt;=0&quot; if min &lt; 0
   end
 end
 
 puts &quot;Options&quot;
 puts opts

 # you can use method syntax to access the options
 puts &quot;Infile list: #{opts.infile}&quot;

 # Flags are set to false by default
 puts &quot;Debug&quot; if opts.debug

 # If accumulate_opt is used, flags still default to false, but
 # will be integers if set on the CL
 puts &quot;Cowbell: #{opts['cowbell']}&quot;

 # You can use hash syntax to access the options as strings or symbols
 puts &quot;N: #{opts[:n]}&quot;

 # You can check to see if Options were set
 puts &quot;Pattern: #{opts.p}&quot; if opts.include?(:p)

 # Here, range was set to an Array. 
 puts &quot;Range: #{opts.range.first} #{opts.range.last}&quot;
 
</pre>
<p>
Which prints out an automatic usage statement:
</p>
<pre>
 Usage: opt_ex.rb [options]
 
   MANDATORY ARGS:
     -i, --infile FILE                           Infile, multiple allowed
 
   OPTIONS:
     -d, --debug                                 debug mode
 
     -m, --cowbell, --morecowbell                I've got a fever, and this is the only prescription.
 
     -n, -num, --num-values VAL                  The answer to everything
 
     -p, --pattern, --glob-pattern PATTERN       glob pattern
 
         --range ARG                             range: min,max (both &gt;0) (default is [5, 10])
 
     -h, --help                                  (for this help message)
</pre>
<h3>A very simple example with no error checking. Use at your own risk!</h3>
<pre>
 require 'opt_simple'
 
 defaults = {
 'max' =&gt; 40
 } 
 
 options = OptSimple.new(defaults).parse_opts! 
 
 puts &quot;Options&quot;
 puts options
 
</pre>
<h3>An example using all default behavior </h3>
<pre>
 
 require 'opt_simple'
 
 options = OptSimple.new.parse_opts! do 
   argument &quot;-i&quot;,&quot;inFile&quot;,&quot;FILE&quot;
   option %w[-p --pattern --glob-pattern], &quot;glob pattern&quot;,&quot;PATTERN&quot;
   flag &quot;-v&quot;,&quot;Verbose&quot;
   flag &quot;-whatever&quot;
 end
 
 puts &quot;Options&quot;
 puts options
</pre>
<h3>An example that shows how to set the banner string, and add a summary.</h3>
<pre>
 require 'opt_simple'
 
 defaults = {
   &quot;max&quot; =&gt; 10
 }
 
 options = OptSimple.new(defaults).parse_opts! do 
   banner &quot;USAGE: #{$0}&quot;
   summary &quot;Show how to set a banner and summary.&quot;
 
   argument &quot;-i&quot;,&quot;inFile&quot; 
   option %w[-m -max --maximum-value],&quot;Maximum val&quot; do |arg|
     set_opt arg.to_i
   end
 end
 
 puts &quot;Options&quot;
 puts options
</pre>
<h3>An example that shows that you can easily set your defaults in normal Ruby variables and provide your own help.</h3>
<pre>
 
 require 'opt_simple'
  
 in_file = nil
 min = 0
 max = 10
 pattern = &quot;*&quot;
 
 usage_string = &lt;&lt;-UL
 Usage: $0 [options]
 
   -i, --infile FILE
  [--range (min - default #{min}, max - default #{max})]
  [-p, --pattern, --glob-pattern (default #{pattern})]
  [-v (verbose)]
  [-h, --help (help)]
 
 UL
 
 OptSimple.new.parse_opts! do 
   help usage_string
 
   argument %w[-i --infile],&quot;inFile&quot; do |arg|
     in_file = arg
     error &quot;inFile must exist and be readable&quot; unless(File.readable?(in_file))
   end
   
   option [&quot;--range&quot;], &quot;range: min,max (both &gt;0) default is #{min},#{max}&quot; do | arg1,arg2 |
     min = arg1.to_i
     max = arg2.to_i    
     
     error &quot;max must be greater than min&quot; unless max &gt; min
     error &quot;both must be &gt;=0&quot; if min &lt; 0
   end  
 
   option %w[-p --pattern --glob-pattern], &quot;glob pattern, default is #{pattern}&quot; do |arg|
     pattern = arg
   end
 
   flag &quot;-v&quot;,&quot;Verbose&quot;
 end
 
 puts &quot;in_file #{in_file}&quot;
 puts &quot;min #{min}&quot;
 puts &quot;max #{max}&quot;
 puts &quot;pattern #{pattern}&quot;
 
 puts &quot;ARGV&quot;
 puts ARGV
  
</pre>
<h3>An example showing how to register parms in multiple places before parsing the command line</h3>
<pre>
 require 'opt_simple'
 
 min = 5
 max = 15
 
 os = OptSimple.new
 
 os.register_opts do 
   argument %w[-i --infile], &quot;Infile, multiple allowed&quot;, &quot;FILE&quot; do | arg |
     accumulate_opt arg
   end
 
   option %w[-p --pattern --glob-pattern], &quot;glob pattern&quot;,&quot;PATTERN&quot;
 end
 
 os.register_opts do 
   option %w[-n -num --num-values],&quot;Number of val&quot;,&quot;VAL&quot; do |arg|
     set_opt arg.to_i
   end
 
   option &quot;--range&quot;, &quot;range: min,max (both &gt;0) default is #{min},#{max}&quot; do | arg1,arg2 |
     min = arg1.to_i
     max = arg2.to_i    
      
     error &quot;max must be greater than min&quot; unless max &gt; min
     error &quot;both must be &gt;=0&quot; if min &lt; 0
   end
 
   flag %w[-v  --verbose],&quot;Verbosity. the more you set, the more we give&quot; do 
     accumulate_opt
   end
 end
 
 options = os.parse_opts!
 
 puts &quot;Options&quot;
 puts options
 
</pre>
<h2>Questions and/or Comments</h2>
<pre>
 
</pre>
<p>
email <a href="mailto:e.stryker@gmail.com">Ethan Stryker</a>
</p>
<pre>
 
 </pre>

	</div>
	

	
	
	<h2>Files</h2>
	<ul>
		
			<li class="file"><a href="README.html">README</a></li>
		
	</ul>
	

	<h2 id="classes">Classes/Modules</h2>
	<ul>
		
		<li class="class"><a href="OptSimple.html">OptSimple</a></li>
		
		<li class="class"><a href="OptSimple/Argument.html">OptSimple::Argument</a></li>
		
		<li class="class"><a href="OptSimple/Error.html">OptSimple::Error</a></li>
		
		<li class="class"><a href="OptSimple/Flag.html">OptSimple::Flag</a></li>
		
		<li class="class"><a href="OptSimple/InvalidOption.html">OptSimple::InvalidOption</a></li>
		
		<li class="class"><a href="OptSimple/MissingArgument.html">OptSimple::MissingArgument</a></li>
		
		<li class="class"><a href="OptSimple/Option.html">OptSimple::Option</a></li>
		
		<li class="class"><a href="OptSimple/Parameter.html">OptSimple::Parameter</a></li>
		
		<li class="class"><a href="OptSimple/ParameterUsageError.html">OptSimple::ParameterUsageError</a></li>
		
		<li class="class"><a href="OptSimple/Result.html">OptSimple::Result</a></li>
		
		<li class="module"><a href="Test.html">Test</a></li>
		
		<li class="module"><a href="Test/Unit.html">Test::Unit</a></li>
		
		<li class="class"><a href="Test/Unit/TestCase.html">Test::Unit::TestCase</a></li>
		
	</ul>

	<h2 id="methods">Methods</h2>
	<ul>
		
			<li><a href="Test/Unit/TestCase.html#method-c-must">::must &mdash; Test::Unit::TestCase</a></li>
		
			<li><a href="OptSimple/Result.html#method-c-new">::new &mdash; OptSimple::Result</a></li>
		
			<li><a href="OptSimple/Flag.html#method-c-new">::new &mdash; OptSimple::Flag</a></li>
		
			<li><a href="OptSimple/Option.html#method-c-new">::new &mdash; OptSimple::Option</a></li>
		
			<li><a href="OptSimple/Parameter.html#method-c-new">::new &mdash; OptSimple::Parameter</a></li>
		
			<li><a href="OptSimple.html#method-c-new">::new &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple/Error.html#method-c-new">::new &mdash; OptSimple::Error</a></li>
		
			<li><a href="OptSimple/Result.html#method-i-%5B%5D">#[] &mdash; OptSimple::Result</a></li>
		
			<li><a href="OptSimple/Result.html#method-i-%5B%5D%3D">#[]= &mdash; OptSimple::Result</a></li>
		
			<li><a href="OptSimple/Flag.html#method-i-accumulate_opt">#accumulate_opt &mdash; OptSimple::Flag</a></li>
		
			<li><a href="OptSimple/Option.html#method-i-accumulate_opt">#accumulate_opt &mdash; OptSimple::Option</a></li>
		
			<li><a href="OptSimple/Result.html#method-i-add_alias">#add_alias &mdash; OptSimple::Result</a></li>
		
			<li><a href="OptSimple.html#method-i-add_parameter">#add_parameter &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple/Result.html#method-i-add_vals_from_hash">#add_vals_from_hash &mdash; OptSimple::Result</a></li>
		
			<li><a href="OptSimple/Result.html#method-i-aliases">#aliases &mdash; OptSimple::Result</a></li>
		
			<li><a href="OptSimple.html#method-i-argument">#argument &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple.html#method-i-banner">#banner &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple.html#method-i-default_arg_parser">#default_arg_parser &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple.html#method-i-error">#error &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple/Parameter.html#method-i-error">#error &mdash; OptSimple::Parameter</a></li>
		
			<li><a href="OptSimple.html#method-i-flag">#flag &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple.html#method-i-help">#help &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple/Parameter.html#method-i-help_str">#help_str &mdash; OptSimple::Parameter</a></li>
		
			<li><a href="OptSimple/Result.html#method-i-include%3F">#include? &mdash; OptSimple::Result</a></li>
		
			<li><a href="OptSimple/Parameter.html#method-i-mandatory%3F">#mandatory? &mdash; OptSimple::Parameter</a></li>
		
			<li><a href="OptSimple/Argument.html#method-i-mandatory%3F">#mandatory? &mdash; OptSimple::Argument</a></li>
		
			<li><a href="OptSimple/Result.html#method-i-merge">#merge &mdash; OptSimple::Result</a></li>
		
			<li><a href="OptSimple/Result.html#method-i-merge%21">#merge! &mdash; OptSimple::Result</a></li>
		
			<li><a href="OptSimple/Result.html#method-i-method_missing">#method_missing &mdash; OptSimple::Result</a></li>
		
			<li><a href="OptSimple/Parameter.html#method-i-names">#names &mdash; OptSimple::Parameter</a></li>
		
			<li><a href="OptSimple.html#method-i-option">#option &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple.html#method-i-parse_opts">#parse_opts &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple.html#method-i-parse_opts%21">#parse_opts! &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple.html#method-i-register_opts">#register_opts &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple/Parameter.html#method-i-set_opt">#set_opt &mdash; OptSimple::Parameter</a></li>
		
			<li><a href="OptSimple.html#method-i-summary">#summary &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple/Parameter.html#method-i-switches%3D">#switches= &mdash; OptSimple::Parameter</a></li>
		
			<li><a href="OptSimple.html#method-i-to_s">#to_s &mdash; OptSimple</a></li>
		
			<li><a href="OptSimple/Result.html#method-i-to_s">#to_s &mdash; OptSimple::Result</a></li>
		
	</ul>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>
</body>
</html>
